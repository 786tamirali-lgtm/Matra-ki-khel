<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ¬∑ ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Ö‡§ï‡•ç‡§∑‡§∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Nirmala UI', 'Segoe UI', 'Noto Sans Devanagari', sans-serif;
            background: #0e2d22;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        /* ---------- ‡§¨‡§æ‡§Ø‡§æ‡§Å ‡§ï‡•Ä‡§¨‡•ã‡§∞‡•ç‡§° ---------- */
        .keyboard-panel {
            width: 30%;
            background: #1e4f3a;
            padding: 20px 15px;
            overflow-y: auto;
            border-right: 6px solid #f9b81b;
            box-shadow: 6px 0 20px #00000055;
            scrollbar-width: thin;
            scrollbar-color: #f9b81b #236b4a;
        }

        .keyboard-panel h2 {
            color: #ffdd99;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 3px 3px 0 #1a5a38;
            border-bottom: 3px solid #f9b81b;
            padding-bottom: 10px;
        }

        .varna-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .varna-btn {
            background: #fef7d6;
            border: none;
            border-radius: 40px 10px 40px 10px;
            padding: 18px 0;
            font-size: 2.3rem;
            font-weight: bold;
            color: #1c5227;
            box-shadow: 0 7px 0 #b1731c, 0 8px 15px black;
            cursor: pointer;
            transition: 0.07s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.1;
        }

        .varna-btn small {
            font-size: 1rem;
            background: #ffd966;
            padding: 3px 12px;
            border-radius: 30px;
            color: #3d2b0f;
            margin-top: 4px;
        }

        .varna-btn:active {
            transform: translateY(6px);
            box-shadow: 0 2px 0 #b1731c, 0 5px 10px black;
        }

        .current-badge {
            background: #feca57;
            color: #1d452b;
            padding: 15px;
            margin-top: 25px;
            border-radius: 50px;
            font-size: 1.7rem;
            font-weight: 800;
            text-align: center;
            border: 3px solid white;
        }

        /* ---------- ‡§¶‡§æ‡§Ø‡§æ‡§Å ‡§≠‡§æ‡§ó (‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§æ‡§∞‡•ç‡§°) ---------- */
        .scroll-panel {
            width: 70%;
            background: #fcf6e6;
            padding: 25px 30px;
            overflow-y: auto;
            background-image: linear-gradient(145deg, #fff6da, #ffefc0);
        }

        .header-strip {
            background: white;
            padding: 20px 30px;
            border-radius: 80px 20px 80px 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 0 #b67924, 0 12px 25px #00000040;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
        }

        .header-strip h1 {
            font-size: 2.5rem;
            color: #175632;
            text-shadow: 3px 3px 0 #ffbc5c;
        }

        .header-strip p {
            font-size: 1.4rem;
            color: #b1570c;
            font-weight: 600;
        }

        .audio-bar {
            display: flex;
            gap: 15px;
        }

        .audio-btn {
            background: #2f7654;
            border: none;
            padding: 14px 28px;
            border-radius: 40px;
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            border: 2px solid #fdc55e;
            box-shadow: 0 5px 0 #1c5238;
            cursor: pointer;
            transition: 0.05s linear;
        }

        .audio-btn:active {
            transform: translateY(5px);
            box-shadow: 0 1px 0 #1c5238;
        }

        /* ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§æ‡§∞‡•ç‡§° - ‡§Ö‡§¨ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§î‡§∞ ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§ú‡•Å‡§°‡§º‡•á (‡§è‡§ï ‡§∏‡§æ‡§•) */
        .cards-holder {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .matra-item {
            background: #fffff2;
            border-radius: 70px 20px 70px 20px;
            padding: 20px 30px;
            border: 5px solid #faa51a;
            box-shadow: 0 12px 0 #a4661a, 0 15px 30px #724b1b;
            transition: 0.2s;
        }

        .matra-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 16px 0 #a4661a, 0 22px 35px #724b1b;
        }

        .matra-header {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #d9f0c5;
            padding: 8px 28px;
            border-radius: 50px;
            width: fit-content;
            border: 2px solid #ea9010;
        }

        .matra-sign {
            font-size: 3.2rem;
            font-weight: 800;
            color: #b33f00;
        }

        .matra-header span:last-child {
            font-size: 2rem;
            font-weight: 700;
            color: #1b6535;
        }

        /* ----- ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Ö‡§ï‡•ç‡§∑‡§∞ (‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ + ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§è‡§ï ‡§∏‡§æ‡§•) ----- */
        .joint-block {
            background: #ffeec2;
            margin: 25px 0 15px 0;
            padding: 30px 20px;
            border-radius: 70px;
            border: 4px dashed #d97d0b;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: 0.2s;
            min-height: 160px;
        }

        .joint-block:active {
            background: #fede99;
            transform: scale(0.99);
        }

        .joint-char {
            font-size: 7.5rem;
            font-weight: 800;
            color: #1e3d29;
            text-shadow: 5px 5px 0 #fec458;
            line-height: 1.3;
            font-family: 'Nirmala UI', 'Noto Sans Devanagari', 'Kokila', 'Mangal', sans-serif;
            /* ‡§Ø‡§π ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§î‡§∞ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§≠‡§æ‡§µ‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á‡§Ç */
            font-feature-settings: "dlig" on, "clig" on;
            letter-spacing: normal;
        }

        /* ‡§â‡§ö‡•ç‡§ö‡§æ‡§∞‡§£ ‡§î‡§∞ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ */
        .pronounce {
            display: inline-block;
            background: #f7bd50;
            font-size: 2rem;
            font-weight: 600;
            padding: 10px 40px;
            border-radius: 40px;
            color: #1d4a21;
            border: 2px solid #aa4d06;
            margin: 10px 0 5px;
        }

        .eg-text {
            font-size: 1.5rem;
            color: #2d5016;
            background: #ecffe1;
            padding: 10px 30px;
            border-radius: 40px;
            display: inline-block;
        }

        .speak-flash {
            animation: soundWave 0.4s ease 2;
            background-color: #fddf9e !important;
        }

        @keyframes soundWave {
            0% { background-color: #ffe39b; border-color: #f39c12; }
            50% { background-color: #fbb83b; border-color: #c4450c; transform: scale(1.01); }
        }

        .new-char-anim {
            animation: charPop 0.2s ease-out;
        }

        @keyframes charPop {
            from { opacity: 0.6; transform: scale(0.95); }
        }
    </style>
</head>
<body>
<div class="app-container">
    <!-- ‡§¨‡§æ‡§Ø‡§æ‡§Å ‡§ï‡•Ä‡§¨‡•ã‡§∞‡•ç‡§° : ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® -->
    <div class="keyboard-panel">
        <h2>üî§ ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® ‡§ö‡•Å‡§®‡•á‡§Ç</h2>
        <div class="varna-grid" id="varnaGrid"></div>
        <div class="current-badge" id="currentVarna">‚úî ‡§ï (ka)</div>
    </div>

    <!-- ‡§¶‡§æ‡§Ø‡§æ‡§Å ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ : ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§æ‡§∞‡•ç‡§° -->
    <div class="scroll-panel">
        <div class="header-strip">
            <div>
                <h1>üå∏ ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ üå∏</h1>
                <p>‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§î‡§∞ ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§è‡§ï ‡§Æ‡•á‡§Ç ‡§¢‡§≤‡•á</p>
            </div>
            <div class="audio-bar">
                <button class="audio-btn" id="playAllBtn">üîä ‡§∏‡§≠‡•Ä ‡§∏‡•Å‡§®‡•á‡§Ç</button>
                <button class="audio-btn" id="stopBtn">‚èπÔ∏è ‡§∂‡§æ‡§Ç‡§§</button>
            </div>
        </div>

        <div class="cards-holder" id="cardsHolder"></div>
        <p style="text-align: center; margin-top: 25px; color: #a34904;">‚ú¶ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ‚Äî ‡§â‡§ö‡•ç‡§ö‡§æ‡§∞‡§£ ‡§∏‡•Å‡§®‡•á‡§Ç ‚ú¶</p>
    </div>
</div>

<script>
    (function() {
        // ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® ‡§∏‡•Ç‡§ö‡•Ä (‡§π‡§ø‡§Ç‡§¶‡•Ä, ‡§∞‡•ã‡§Æ‡§®)
        const consonants = [
            ['‡§ï','ka'],['‡§ñ','kha'],['‡§ó','ga'],['‡§ò','gha'],['‡§ô','nga'],
            ['‡§ö','cha'],['‡§õ','chha'],['‡§ú','ja'],['‡§ù','jha'],['‡§û','nya'],
            ['‡§ü','ta'],['‡§†','tha'],['‡§°','da'],['‡§¢','dha'],['‡§£','na'],
            ['‡§§','ta'],['‡§•','tha'],['‡§¶','da'],['‡§ß','dha'],['‡§®','na'],
            ['‡§™','pa'],['‡§´','pha'],['‡§¨','ba'],['‡§≠','bha'],['‡§Æ','ma'],
            ['‡§Ø','ya'],['‡§∞','ra'],['‡§≤','la'],['‡§µ','va'],['‡§∂','sha'],
            ['‡§∑','sha'],['‡§∏','sa'],['‡§π','ha'],['‡§ï‡•ç‡§∑','ksha'],['‡§§‡•ç‡§∞','tra'],['‡§ú‡•ç‡§û','gya']
        ];

        // ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§µ‡§ø‡§®‡•ç‡§Ø‡§æ‡§∏ ‚Äì ‡§Ö‡§¨ ‡§π‡§Æ ‡§∏‡•Ä‡§ß‡•á ‡§Ø‡•Ç‡§®‡§ø‡§ï‡•ã‡§° ‡§∞‡•á‡§Ç‡§°‡§∞‡§ø‡§Ç‡§ó ‡§™‡§∞ ‡§≠‡§∞‡•ã‡§∏‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á, ‡§Ö‡§≤‡§ó ‡§∏‡•á ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å‡§ó‡•á
        const matras = [
            { id: 'aa', sign: '‡§æ', roman: 'aa', name: '‡§Ü (‡§æ)' },
            { id: 'i', sign: '‡§ø', roman: 'i', name: '‡§á (‡§ø)' },   // ‡§ø ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® ‡§ï‡•á ‡§¨‡§æ‡§µ‡§ú‡•Ç‡§¶ ‡§¨‡§æ‡§à‡§Ç ‡§ì‡§∞ ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ, ‡§™‡§∞ ‡§Ø‡•Ç‡§®‡§ø‡§ï‡•ã‡§° ‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§π‡•Ä ‡§π‡•à
            { id: 'ee', sign: '‡•Ä', roman: 'ee', name: '‡§à (‡•Ä)' },
            { id: 'u', sign: '‡•Å', roman: 'u', name: '‡§â (‡•Å)' },
            { id: 'oo', sign: '‡•Ç', roman: 'oo', name: '‡§ä (‡•Ç)' },
            { id: 'e', sign: '‡•á', roman: 'e', name: '‡§è (‡•á)' },
            { id: 'ai', sign: '‡•à', roman: 'ai', name: '‡§ê (‡•à)' },
            { id: 'o', sign: '‡•ã', roman: 'o', name: '‡§ì (‡•ã)' },
            { id: 'au', sign: '‡•å', roman: 'au', name: '‡§î (‡•å)' },
            { id: 'an', sign: '‡§Ç', roman: 'n', name: '‡§Ö‡§Ç (‡§Ç)' },
            { id: 'ah', sign: '‡§É', roman: 'h', name: '‡§Ö‡§É (‡§É)' }
        ];

        // ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ö‡§Ø‡§®
        let currentConsonant = '‡§ï';
        let currentRoman = 'ka';

        // DOM
        const varnaGrid = document.getElementById('varnaGrid');
        const currentVarnaSpan = document.getElementById('currentVarna');
        const cardsHolder = document.getElementById('cardsHolder');
        const playAllBtn = document.getElementById('playAllBtn');
        const stopBtn = document.getElementById('stopBtn');

        const synth = window.speechSynthesis;
        let speakingIndex = -1;
        let timeoutId = null;

        // 1. ‡§ï‡•Ä‡§¨‡•ã‡§∞‡•ç‡§° ‡§¨‡§®‡§æ‡§è‡§Å
        consonants.forEach(([hindi, roman]) => {
            const btn = document.createElement('button');
            btn.className = 'varna-btn';
            btn.innerHTML = `${hindi} <small>${roman}</small>`;
            btn.addEventListener('click', () => setConsonant(hindi, roman));
            varnaGrid.appendChild(btn);
        });

        // 2. ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§æ‡§∞‡•ç‡§° HTML ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§¨‡§®‡§æ‡§è‡§Å (‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Ö‡§ï‡•ç‡§∑‡§∞)
        function buildMatraCards() {
            cardsHolder.innerHTML = '';
            matras.forEach(m => {
                const card = document.createElement('div');
                card.className = 'matra-item';
                card.dataset.matraId = m.id;
                card.dataset.sign = m.sign;
                card.dataset.romanEnd = m.roman;

                // header
                const head = document.createElement('div');
                head.className = 'matra-header';
                head.innerHTML = `<span class="matra-sign">${m.sign}</span><span>${m.name}</span>`;

                // joint block (‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§î‡§∞ ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§)
                const jointDiv = document.createElement('div');
                jointDiv.className = 'joint-block';
                jointDiv.id = `joint-${m.id}`;

                const jointChar = document.createElement('div');
                jointChar.className = 'joint-char';
                jointChar.id = `char-${m.id}`;
                jointChar.textContent = currentConsonant + m.sign;   // ‡§Ø‡•Ç‡§®‡§ø‡§ï‡•ã‡§° ‡§ï‡•ç‡§∞‡§Æ ‚Äî ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§á‡§∏‡•á ‡§∏‡§π‡•Ä ‡§¶‡§ø‡§ñ‡§æ‡§è‡§ó‡§æ (‡§ø ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Ö‡§™‡§®‡•á ‡§Ü‡§™)
                jointDiv.appendChild(jointChar);

                // phonetic
                const phone = document.createElement('div');
                phone.className = 'pronounce';
                phone.id = `phone-${m.id}`;
                phone.textContent = currentRoman + m.roman;

                // example hint
                const eg = document.createElement('div');
                eg.className = 'eg-text';
                eg.id = `eg-${m.id}`;
                eg.textContent = `‡§â‡§¶‡§æ: ${currentConsonant + m.sign} (${currentRoman + m.roman})`;

                // ‡§ï‡•ç‡§≤‡§ø‡§ï ‚Üí ‡§¨‡•ã‡§≤‡•á
                jointDiv.addEventListener('click', (e) => {
                    e.stopPropagation();
                    speakMatra(m.id);
                });

                card.appendChild(head);
                card.appendChild(jointDiv);
                card.appendChild(phone);
                card.appendChild(eg);
                cardsHolder.appendChild(card);
            });
        }
        buildMatraCards();

        // 3. ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® ‡§¨‡§¶‡§≤‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® ‚Äî ‡§∏‡§æ‡§∞‡•á ‡§ï‡§æ‡§∞‡•ç‡§° ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
        function setConsonant(hindi, roman) {
            currentConsonant = hindi;
            currentRoman = roman;
            currentVarnaSpan.innerText = `‚úî ${hindi} (${roman})`;

            matras.forEach(m => {
                // ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§µ‡§æ‡§≤‡§æ div
                const charDiv = document.getElementById(`char-${m.id}`);
                if (charDiv) {
                    charDiv.textContent = hindi + m.sign;   // ‡§∏‡•Ä‡§ß‡§æ ‡§ú‡•ã‡§°‡§º ‚Üí ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§∏‡§π‡•Ä ‡§≤‡§ó‡§æ‡§è‡§ó‡§æ
                }

                // ‡§´‡•ã‡§®‡•á‡§ü‡§ø‡§ï
                const phoneDiv = document.getElementById(`phone-${m.id}`);
                if (phoneDiv) phoneDiv.textContent = roman + m.roman;

                // ‡§â‡§¶‡§æ‡§π‡§∞‡§£
                const egDiv = document.getElementById(`eg-${m.id}`);
                if (egDiv) egDiv.textContent = `‡§â‡§¶‡§æ: ${hindi + m.sign} (${roman + m.roman})`;
            });

            // ‡§õ‡•ã‡§ü‡•Ä ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§®
            document.querySelectorAll('.matra-item').forEach(el => {
                el.classList.add('new-char-anim');
                setTimeout(() => el.classList.remove('new-char-anim'), 200);
            });
        }

        // 4. ‡§¨‡•ã‡§≤‡§®‡•á ‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø
        function speakMatra(matraId) {
            stopSpeech();

            const matra = matras.find(m => m.id === matraId);
            if (!matra) return;

            const word = currentConsonant + matra.sign;   // ‡§¨‡•ã‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§π‡•Ä ‡§ï‡•ç‡§∞‡§Æ
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.lang = 'hi-IN';
            utterance.rate = 0.85;
            utterance.pitch = 1.1;

            // ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Ü‡§µ‡§æ‡§ú ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ
            const setHindiVoice = () => {
                const voices = synth.getVoices();
                const hindiVoice = voices.find(v => v.lang.includes('hi') || v.lang.includes('IN'));
                if (hindiVoice) utterance.voice = hindiVoice;
            };
            if (synth.onvoiceschanged !== undefined) {
                synth.onvoiceschanged = setHindiVoice;
            } else {
                setHindiVoice();
            }

            const jointBlock = document.getElementById(`joint-${matraId}`);
            if (jointBlock) jointBlock.classList.add('speak-flash');

            utterance.onend = () => {
                if (jointBlock) jointBlock.classList.remove('speak-flash');
            };
            utterance.onerror = () => {
                if (jointBlock) jointBlock.classList.remove('speak-flash');
            };

            synth.speak(utterance);
        }

        function stopSpeech() {
            if (synth.speaking) {
                synth.cancel();
            }
            document.querySelectorAll('.joint-block').forEach(el => el.classList.remove('speak-flash'));
            if (timeoutId) clearTimeout(timeoutId);
            speakingIndex = -1;
        }

        // 5. ‡§∏‡§≠‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ï‡•ç‡§∞‡§Æ ‡§∏‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç
        function playAllCards() {
            stopSpeech();
            let idx = 0;

            function playNext() {
                if (idx < matras.length) {
                    const matraId = matras[idx].id;
                    speakMatra(matraId);
                    // ‡§•‡•ã‡§°‡§º‡§æ ‡§∞‡•Å‡§ï ‡§ï‡§∞ ‡§Ö‡§ó‡§≤‡§æ
                    timeoutId = setTimeout(() => {
                        idx++;
                        playNext();
                    }, 1200);
                } else {
                    timeoutId = null;
                }
            }
            playNext();
        }

        // ‡§¨‡§ü‡§® ‡§á‡§µ‡•á‡§Ç‡§ü
        playAllBtn.addEventListener('click', playAllCards);
        stopBtn.addEventListener('click', stopSpeech);

        // ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§∏‡•á‡§ü
        setConsonant('‡§ï', 'ka');

        // ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§∏‡•ç‡§™‡•Ä‡§ö ‡§∞‡•á‡§°‡•Ä ‡§π‡•ã
        if (synth.onvoiceschanged !== undefined) {
            synth.onvoiceschanged = () => {};
        }
    })();
</script>
</body>
</html>
